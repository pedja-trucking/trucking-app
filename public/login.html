<!doctype html>
<html>
<head><meta charset="utf-8"><title>Login</title></head>
<body>
  <h2>Login</h2>
  <input id="email" placeholder="email"/><br/>
  <input id="pass" type="password" placeholder="password"/><br/>
  <button id="login">Login</button>
  <div id="msg"></div>
<script>
document.getElementById('login').onclick = async () => {
  const email = document.getElementById('email').value;
  const password = document.getElementById('pass').value;
  const r = await fetch('/api/login', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({ email, password }),
    credentials: 'include'
  });
  const j = await r.json();
  document.getElementById('msg').innerText = JSON.stringify(j);
  if (j.ok) window.location = '/app.html';
};
</script>
</body>
</html>
